<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inkwave - Financial Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Poppins:wght@400;500;600&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f8f7;
      --text: #1e1e1e;
      --muted: #6a6a6a;
      --accent: #4f8dc0; /* New accent for financial dashboard */
      --white: #ffffff;
      --border: #e0e0e0;
      --sidebar-bg: #111;
      --container-bg: #ffffff;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--bg);
      color: var(--text);
      display: flex;
      min-height: 100vh;
    }
    /* Original Sidebar */
    .sidebar {
      width: 300px;
      background: var(--sidebar-bg);
      color: var(--white);
      padding: 2rem 1.5rem;
      height: 100vh;
      position: fixed;
      overflow-y: auto;
    }
    .sidebar h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      margin-bottom: 2rem;
      font-weight: 600;
    }
    .sidebar .section {
      margin-bottom: 2rem;
    }
    .section-title {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: #aaa;
      margin-bottom: 0.6rem;
      font-weight: 600;
    }
    .nav-link {
      display: block;
      margin: 0.5rem 0;
      color: #e0e0e0;
      text-decoration: none;
      font-size: 1rem;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
      font-weight: 500;
      transition: background 0.2s;
    }
    .nav-link:hover {
      background-color: #1e1e1e;
    }
    /* Main Content Area */
    .main {
      margin-left: 300px;
      padding: 2.5rem;
      flex: 1;
    }
    .header {
      text-align: center;
      padding: 20px 0;
      background: var(--accent);
      color: var(--white);
      border-radius: 6px;
      margin-bottom: 30px;
    }
    .header h1 {
      font-size: 2.5rem;
      margin: 0;
    }
    .header p {
      font-size: 1rem;
      margin-top: 5px;
    }
    .container {
      background: var(--container-bg);
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    /* Earnings Table */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 15px;
    }
    table, th, td {
      border: 1px solid var(--border);
    }
    th, td {
      padding: 10px;
      text-align: left;
    }
    th {
      background: var(--accent);
      color: var(--white);
    }
    /* Section Headings */
    section {
      margin-bottom: 2rem;
    }
    section h2 {
      font-family: 'Playfair Display', serif;
      color: var(--accent);
      margin-bottom: 1rem;
      border-bottom: 2px solid var(--accent);
      padding-bottom: 0.5rem;
      font-size: 1.5rem;
    }
    /* Cash Out Button */
    .cash-out-btn {
      display: inline-block;
      background: var(--accent);
      color: var(--white);
      border: none;
      padding: 10px 20px;
      font-size: 1rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .cash-out-btn:hover {
      background: #3c7ba3;
    }
    .beta-note {
      margin-top: 10px;
      font-size: 0.9rem;
      color: var(--muted);
    }
    hr {
      border: 0;
      border-top: 1px solid var(--border);
      margin: 20px 0;
    }
    /* Payout Calculation & Logic */
    .payout-logic pre {
      background: #f8f9fa;
      padding: 15px;
      border: 1px solid var(--border);
      border-radius: 4px;
      overflow-x: auto;
      font-size: 0.95rem;
      line-height: 1.5;
      margin-bottom: 15px;
    }
    .dev-handoff {
      background: #e9edf1;
      border-left: 4px solid var(--accent);
      padding: 15px;
      margin-top: 20px;
      font-size: 0.95rem;
      color: var(--text);
    }
  </style>
</head>
<body>
  <!-- Original Sidebar -->
  <div class="sidebar">
    <h2>Inkwave</h2>
    <div class="section">
      <div class="section-title">Core</div>
      <a href="author-dashboard.html" class="nav-link">üè† Dashboard</a>
      <a href="404.html" class="nav-link">üí∞ Earnings</a>
    </div>
    <div class="section">
      <div class="section-title">Writing Tools</div>
      <a href="blurb-generator.html" class="nav-link">üß† Blurb Generator</a>
      <a href="404.html" class="nav-link">üìù Grammar Fixer</a>
      <a href="story-templates.html" class="nav-link">üìÑ Story Templates</a>
      <a href="404.html" class="nav-link">üéõ Formatting Tools</a>
      <a href="404.html" class="nav-link">üè∑Ô∏è Genre & Tags</a>
    </div>
    <div class="section">
      <div class="section-title">Testing & Feedback</div>
      <a href="404.html" class="nav-link">üß™ A/B Testing</a>
      <a href="404.html" class="nav-link">üî• Reader Heatmap</a>
      <a href="404.html" class="nav-link">üë• Critique Exchange</a>
      <a href="404.html" class="nav-link">üì¢ Pitch to Readers</a>
    </div>
    <div class="section">
      <div class="section-title">Publishing</div>
      <a href="404.html" class="nav-link">‚úÖ Checklist</a>
      <a href="404.html" class="nav-link">üñºÔ∏è Cover Generator</a>
      <a href="404.html" class="nav-link">üì± Mobile Mode</a>
    </div>
    <div class="section">
      <div class="section-title">Productivity</div>
      <a href="404.html" class="nav-link">ü§ñ Inky Assistant</a>
      <a href="404.html" class="nav-link">üéØ Daily Challenges</a>
    </div>
  </div>
  
  <!-- Main Content Area -->
  <div class="main">
    <div class="header">
      <h1>Financial Dashboard</h1>
      <p>Your Earnings and Payouts</p>
    </div>
    <div class="container">
      <!-- Earnings Summary Section -->
      <section id="earnings-summary">
        <h2>Your Earnings</h2>
        <table>
          <thead>
            <tr>
              <th>Story Title</th>
              <th>Views</th>
              <th>Earnings</th>
            </tr>
          </thead>
          <tbody>
            <!-- Real stories with view counts (even if zero) -->
            <tr>
              <td>The Midnight Muse</td>
              <td>120</td>
              <td>$320</td>
            </tr>
            <tr>
              <td>Echoes of Tomorrow</td>
              <td>85</td>
              <td>$250</td>
            </tr>
            <tr>
              <td>Silent Whispers</td>
              <td>0</td>
              <td>$0</td>
            </tr>
          </tbody>
        </table>
        <p><strong>Total Balance:</strong> $570</p>
      </section>
      
      <!-- Cash Out Section -->
      <section id="cash-out">
        <h2>Cash Out</h2>
        <button id="cashOutBtn" class="cash-out-btn">Cash Out</button>
        <p class="beta-note">
          Note: This platform is currently in beta testing. No funds will be exchanged until the platform goes live.
        </p>
      </section>
      
      <!-- Payout Calculation & Logic Section -->
      <section id="payout-logic">
        <h2>Payout Calculation &amp; Logic</h2>
        <p>
          We believe in rewarding storytellers fairly‚Äîand that means sharing a meaningful portion of our monthly revenue with the authors who power the platform. Each month, a dedicated payout pool is distributed to stories based on performance, so the more views your story earns, the more you take home. Our tiered system ensures that top-performing stories get the biggest rewards, while even newer or smaller stories still earn based on their readership. As our subscriber base and income grow, so does the size of the payout pool‚Äîgiving you the chance to earn more every single month. It‚Äôs a model built to scale with your success.
        </p>
        <h3>Step-by-Step Logic:</h3>
        <pre>
1. At end of each month:
   total_revenue = subscription_revenue + ad_revenue + premium_sales
   payout_pool = total_revenue * payout_percentage  # e.g. 0.15 or 0.20

2. Sort all stories by views & assign to payout tiers:
   Tier     Views     Max Stories     % of Pool
   Tier 1   100‚Äì91    10 max          30%
   Tier 2   90‚Äì81     10 max          25%
   Tier 3   80‚Äì71     10 max          15%
   Tier 4   70‚Äì61     10 max          10%
   Open Tier 60‚Äì1    Unlimited       20%

3. For each tier:
   tier_pool = payout_pool * tier_percentage
   stories_in_tier = [stories that qualify and rank in top N slots]
   equal_share = tier_pool / len(stories_in_tier)

4. For Open Tier (1‚Äì60 views):
   open_tier_pool = payout_pool * 0.20
   total_views = sum([story.views for story in open_tier])
   for story in open_tier:
       story_share = (story.views / total_views) * open_tier_pool

5. Output:
   Return a list of story payouts for distribution.
        </pre>
        <div class="dev-handoff">
          Would you like this in a downloadable dev handoff doc (PDF or Notion format), or should I help you build a simple tool for tracking this monthly?
        </div>
      </section>
    </div>
  </div>
  
  <script>
    // Cash Out button functionality (beta only)
    document.getElementById('cashOutBtn').addEventListener('click', function() {
      alert('Cash Out functionality is currently in beta. No funds will be exchanged at this time.');
    });
  </script>
</body>
</html>
